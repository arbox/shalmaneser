<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
	"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
	<meta content="text/html; charset=utf-8" http-equiv="Content-Type" />

	<title>Class: DBView</title>

	<link rel="stylesheet" href="./rdoc.css" type="text/css" media="screen" />

	<script src="./js/jquery.js" type="text/javascript"
		charset="utf-8"></script>
	<script src="./js/thickbox-compressed.js" type="text/javascript"
		charset="utf-8"></script>
	<script src="./js/quicksearch.js" type="text/javascript"
		charset="utf-8"></script>
	<script src="./js/darkfish.js" type="text/javascript"
		charset="utf-8"></script>

</head>
<body class="class">

	<div id="metadata">
		<div id="home-metadata">
			<div id="home-section" class="section">
        <h3 class="section-header">
          <a href="./index.html">Home</a>
          <a href="./index.html#classes">Classes</a>
          <a href="./index.html#methods">Methods</a>
        </h3>
			</div>
		</div>

		<div id="file-metadata">
			<div id="file-list-section" class="section">
				<h3 class="section-header">In Files</h3>
				<div class="section-body">
					<ul>
					
						<li><a href="./Pkg/View_rb.html?TB_iframe=true&amp;height=550&amp;width=785"
							class="thickbox" title="Pkg/View.rb">Pkg/View.rb</a></li>
					
					</ul>
				</div>
			</div>

			
		</div>

		<div id="class-metadata">

			<!-- Parent Class -->
			
			<div id="parent-class-section" class="section">
				<h3 class="section-header">Parent</h3>
				
				<p class="link"><a href="Object.html">Object</a></p>
				
			</div>
			

			<!-- Namespace Contents -->
			
			<div id="namespace-list-section" class="section">
				<h3 class="section-header">Namespace</h3>
				<ul class="link-list">
					
					<li><span class="type">MODULE</span> <a href="DBView/dyn_gold_obj.html">DBView::dyn_gold_obj</a></li>
					
				</ul>
			</div>
			

			<!-- Method Quickref -->
			
			<div id="method-list-section" class="section">
				<h3 class="section-header">Methods</h3>
				<ul class="link-list">
					
					<li><a href="#method-c-new">::new</a></li>
					
					<li><a href="#method-i-close">#close</a></li>
					
					<li><a href="#method-i-column_names">#column_names</a></li>
					
					<li><a href="#method-i-each_array">#each_array</a></li>
					
					<li><a href="#method-i-each_hash">#each_hash</a></li>
					
					<li><a href="#method-i-each_instance_s">#each_instance_s</a></li>
					
					<li><a href="#method-i-each_sentence">#each_sentence</a></li>
					
					<li><a href="#method-i-execute_command">#execute_command</a></li>
					
					<li><a href="#method-i-fetch_dyn_gold_obj">#fetch_dyn_gold_obj</a></li>
					
					<li><a href="#method-i-length">#length</a></li>
					
					<li><a href="#method-i-update_column">#update_column</a></li>
					
					<li><a href="#method-i-write_to_file">#write_to_file</a></li>
					
				</ul>
			</div>
			

			<!-- Included Modules -->
			
		</div>

		<div id="project-metadata">
			
			
			<div id="fileindex-section" class="section project-section">
				<h3 class="section-header">Files</h3>
				<ul>
				
					<li class="file"><a href="./rosy_medline_main/main.html">main</a></li>
				
					<li class="file"><a href="./rosy_medline_rosy_main/main.html">main</a></li>
				
					<li class="file"><a href="./tools/berkeleyParser/Makefile.html">Makefile</a></li>
				
					<li class="file"><a href="./tools/berkeleyParser/README.html">README</a></li>
				
					<li class="file"><a href="./tools/berkeleyParser/edu/berkeley/nlp/PCFGLA/manifest_txt.html">manifest.txt</a></li>
				
					<li class="file"><a href="./tools/berkeleyParser/getSignature.html">getSignature</a></li>
				
					<li class="file"><a href="./tools/treetagger/shal-eng.html">shal-eng</a></li>
				
					<li class="file"><a href="./tools/treetagger/shal-ger.html">shal-ger</a></li>
				
				</ul>
			</div>
			

			<div id="classindex-section" class="section project-section">
				<h3 class="section-header">Class Index
					<span class="search-toggle"><img src="./images/find.png"
						height="16" width="16" alt="[+]"
						title="show/hide quicksearch" /></span></h3>
				<form action="#" method="get" accept-charset="utf-8" class="initially-hidden">
				<fieldset>
					<legend>Quicksearch</legend>
					<input type="text" name="quicksearch" value=""
						class="quicksearch-field" />
				</fieldset>
				</form>

				<ul class="link-list">
				
					<li><a href="./RulesFE.html">RulesFE</a></li>
				
					<li><a href="./RulesFE/RuleGeneralizer.html">RulesFE::RuleGeneralizer</a></li>
				
					<li><a href="./RulesFE/RuleKeeper.html">RulesFE::RuleKeeper</a></li>
				
					<li><a href="./RulesFE/RulePartFE.html">RulesFE::RulePartFE</a></li>
				
					<li><a href="./RulesFE/RulePartFEE.html">RulesFE::RulePartFEE</a></li>
				
					<li><a href="./RulesFE/RuleUser.html">RulesFE::RuleUser</a></li>
				
					<li><a href="./DBView.html">DBView</a></li>
				
					<li><a href="./DBView/dyn_gold_obj.html">DBView::dyn_gold_obj</a></li>
				
					<li><a href="./EmptyInterpreter.html">EmptyInterpreter</a></li>
				
					<li><a href="./EmptyInterpreter/SynInterpreter.html">EmptyInterpreter::SynInterpreter</a></li>
				
					<li><a href="./NonlocalFEModule.html">NonlocalFEModule</a></li>
				
					<li><a href="./NonlocalFEModule/NonlocalFEs.html">NonlocalFEModule::NonlocalFEs</a></li>
				
					<li><a href="./AbstractCombinedPathFeature.html">AbstractCombinedPathFeature</a></li>
				
					<li><a href="./AbstractContextProvider.html">AbstractContextProvider</a></li>
				
					<li><a href="./AbstractFeatureExtractor.html">AbstractFeatureExtractor</a></li>
				
					<li><a href="./AbstractFredFeatureAccess.html">AbstractFredFeatureAccess</a></li>
				
					<li><a href="./AbstractGVPathFeature.html">AbstractGVPathFeature</a></li>
				
					<li><a href="./AbstractPartialPathFeature.html">AbstractPartialPathFeature</a></li>
				
					<li><a href="./AbstractPathFeature.html">AbstractPathFeature</a></li>
				
					<li><a href="./AbstractSingleFeatureExtractor.html">AbstractSingleFeatureExtractor</a></li>
				
					<li><a href="./Ampersand.html">Ampersand</a></li>
				
					<li><a href="./AncestorRuleFeature.html">AncestorRuleFeature</a></li>
				
					<li><a href="./AnswerKeyAccess.html">AnswerKeyAccess</a></li>
				
					<li><a href="./Array.html">Array</a></li>
				
					<li><a href="./AuxKeepWriters.html">AuxKeepWriters</a></li>
				
					<li><a href="./Baseline.html">Baseline</a></li>
				
					<li><a href="./BerkeleyInterface.html">BerkeleyInterface</a></li>
				
					<li><a href="./BerkeleyInterpreter.html">BerkeleyInterpreter</a></li>
				
					<li><a href="./Classifier.html">Classifier</a></li>
				
					<li><a href="./ClassifierCombination.html">ClassifierCombination</a></li>
				
					<li><a href="./CollinsInterface.html">CollinsInterface</a></li>
				
					<li><a href="./CollinsTntInterpreter.html">CollinsTntInterpreter</a></li>
				
					<li><a href="./CollinsTreeTaggerInterpreter.html">CollinsTreeTaggerInterpreter</a></li>
				
					<li><a href="./CombinedPathFeature.html">CombinedPathFeature</a></li>
				
					<li><a href="./ConfigAlsoHandlingDirectories.html">ConfigAlsoHandlingDirectories</a></li>
				
					<li><a href="./ConfigData.html">ConfigData</a></li>
				
					<li><a href="./ConfigFormatElement.html">ConfigFormatElement</a></li>
				
					<li><a href="./ContextProvider.html">ContextProvider</a></li>
				
					<li><a href="./ConvexComp.html">ConvexComp</a></li>
				
					<li><a href="./Counter.html">Counter</a></li>
				
					<li><a href="./DBMySQL.html">DBMySQL</a></li>
				
					<li><a href="./DBMySQLResult.html">DBMySQLResult</a></li>
				
					<li><a href="./DBResult.html">DBResult</a></li>
				
					<li><a href="./DBSQLite.html">DBSQLite</a></li>
				
					<li><a href="./DBSQLiteResult.html">DBSQLiteResult</a></li>
				
					<li><a href="./DBTable.html">DBTable</a></li>
				
					<li><a href="./DBWrapper.html">DBWrapper</a></li>
				
					<li><a href="./DoParses.html">DoParses</a></li>
				
					<li><a href="./DynGoldBinary.html">DynGoldBinary</a></li>
				
					<li><a href="./EdgelabelCombinedPathFeature.html">EdgelabelCombinedPathFeature</a></li>
				
					<li><a href="./EdgelabelPartialPathFeature.html">EdgelabelPartialPathFeature</a></li>
				
					<li><a href="./EdgelabelPathFeature.html">EdgelabelPathFeature</a></li>
				
					<li><a href="./EnumerableBool.html">EnumerableBool</a></li>
				
					<li><a href="./EnumerableDistribute.html">EnumerableDistribute</a></li>
				
					<li><a href="./Eval.html">Eval</a></li>
				
					<li><a href="./ExternalConfigData.html">ExternalConfigData</a></li>
				
					<li><a href="./ExternalFeatureExtractor.html">ExternalFeatureExtractor</a></li>
				
					<li><a href="./FE.html">FE</a></li>
				
					<li><a href="./FNCorpusAset.html">FNCorpusAset</a></li>
				
					<li><a href="./FNCorpusXMLFile.html">FNCorpusXMLFile</a></li>
				
					<li><a href="./FNCorpusXMLSentence.html">FNCorpusXMLSentence</a></li>
				
					<li><a href="./FNDatabase.html">FNDatabase</a></li>
				
					<li><a href="./FNTabFormatFile.html">FNTabFormatFile</a></li>
				
					<li><a href="./FNTabFrame.html">FNTabFrame</a></li>
				
					<li><a href="./FNTabSentence.html">FNTabSentence</a></li>
				
					<li><a href="./FailedParses.html">FailedParses</a></li>
				
					<li><a href="./FatherPhraseTypeFeature.html">FatherPhraseTypeFeature</a></li>
				
					<li><a href="./FeNode.html">FeNode</a></li>
				
					<li><a href="./File.html">File</a></li>
				
					<li><a href="./FileParser.html">FileParser</a></li>
				
					<li><a href="./FilePartsParser.html">FilePartsParser</a></li>
				
					<li><a href="./FileZipped.html">FileZipped</a></li>
				
					<li><a href="./FindAllTargets.html">FindAllTargets</a></li>
				
					<li><a href="./FindTargetsFromFrames.html">FindTargetsFromFrames</a></li>
				
					<li><a href="./FirstWordFeature.html">FirstWordFeature</a></li>
				
					<li><a href="./FixSynSemMapping.html">FixSynSemMapping</a></li>
				
					<li><a href="./Float.html">Float</a></li>
				
					<li><a href="./FrPrep.html">FrPrep</a></li>
				
					<li><a href="./FrPrepConfigData.html">FrPrepConfigData</a></li>
				
					<li><a href="./Frame.html">Frame</a></li>
				
					<li><a href="./FrameFeature.html">FrameFeature</a></li>
				
					<li><a href="./FrameFromNode.html">FrameFromNode</a></li>
				
					<li><a href="./FrameHash.html">FrameHash</a></li>
				
					<li><a href="./FrameNode.html">FrameNode</a></li>
				
					<li><a href="./FrameXMLFile.html">FrameXMLFile</a></li>
				
					<li><a href="./FrameXMLSentence.html">FrameXMLSentence</a></li>
				
					<li><a href="./FramesAndRelations.html">FramesAndRelations</a></li>
				
					<li><a href="./FramesOfSentence.html">FramesOfSentence</a></li>
				
					<li><a href="./FredAbstractClassifier.html">FredAbstractClassifier</a></li>
				
					<li><a href="./FredConfigData.html">FredConfigData</a></li>
				
					<li><a href="./FredContextFeatureExtractor.html">FredContextFeatureExtractor</a></li>
				
					<li><a href="./FredContextPOSFeatureExtractor.html">FredContextPOSFeatureExtractor</a></li>
				
					<li><a href="./FredEval.html">FredEval</a></li>
				
					<li><a href="./FredFeatureAccess.html">FredFeatureAccess</a></li>
				
					<li><a href="./FredFeatureExtractor.html">FredFeatureExtractor</a></li>
				
					<li><a href="./FredFeatureInfo.html">FredFeatureInfo</a></li>
				
					<li><a href="./FredFeaturize.html">FredFeaturize</a></li>
				
					<li><a href="./FredNgramFeatureExtractor.html">FredNgramFeatureExtractor</a></li>
				
					<li><a href="./FredParameters.html">FredParameters</a></li>
				
					<li><a href="./FredSplit.html">FredSplit</a></li>
				
					<li><a href="./FredSplitPkg.html">FredSplitPkg</a></li>
				
					<li><a href="./FredSynFeatureExtractor.html">FredSynFeatureExtractor</a></li>
				
					<li><a href="./FredSynsemFeatureExtractor.html">FredSynsemFeatureExtractor</a></li>
				
					<li><a href="./FredTest.html">FredTest</a></li>
				
					<li><a href="./FredTrain.html">FredTrain</a></li>
				
					<li><a href="./FrprepFlatSyntax.html">FrprepFlatSyntax</a></li>
				
					<li><a href="./FrprepHelper.html">FrprepHelper</a></li>
				
					<li><a href="./FrprepReadStxml.html">FrprepReadStxml</a></li>
				
					<li><a href="./GFFeature.html">GFFeature</a></li>
				
					<li><a href="./GVEdgelabelPathFeature.html">GVEdgelabelPathFeature</a></li>
				
					<li><a href="./GVNodelabelPathFeature.html">GVNodelabelPathFeature</a></li>
				
					<li><a href="./GVPathFeature.html">GVPathFeature</a></li>
				
					<li><a href="./GetMorph.html">GetMorph</a></li>
				
					<li><a href="./GfFeMapping.html">GfFeMapping</a></li>
				
					<li><a href="./GfInduce.html">GfInduce</a></li>
				
					<li><a href="./GfInduceFeatureExtractor.html">GfInduceFeatureExtractor</a></li>
				
					<li><a href="./GfiGfPathMapping.html">GfiGfPathMapping</a></li>
				
					<li><a href="./GfiSubcatFrames.html">GfiSubcatFrames</a></li>
				
					<li><a href="./GoldlabelFeature.html">GoldlabelFeature</a></li>
				
					<li><a href="./GoverningVerbOfTargetFeature.html">GoverningVerbOfTargetFeature</a></li>
				
					<li><a href="./GrammaticalFunctionAccess.html">GrammaticalFunctionAccess</a></li>
				
					<li><a href="./GraphNode.html">GraphNode</a></li>
				
					<li><a href="./HeadFeature.html">HeadFeature</a></li>
				
					<li><a href="./HeadPosFeature.html">HeadPosFeature</a></li>
				
					<li><a href="./Headz.html">Headz</a></li>
				
					<li><a href="./HeadzHelpers.html">HeadzHelpers</a></li>
				
					<li><a href="./IcontLemmaFeature.html">IcontLemmaFeature</a></li>
				
					<li><a href="./InputData.html">InputData</a></li>
				
					<li><a href="./IsMaxProj.html">IsMaxProj</a></li>
				
					<li><a href="./LastWordFeature.html">LastWordFeature</a></li>
				
					<li><a href="./LeftSiblingFeature.html">LeftSiblingFeature</a></li>
				
					<li><a href="./MD5.html">MD5</a></li>
				
					<li><a href="./Mallet.html">Mallet</a></li>
				
					<li><a href="./Malouf.html">Malouf</a></li>
				
					<li><a href="./MapWithIndex.html">MapWithIndex</a></li>
				
					<li><a href="./MaxConst.html">MaxConst</a></li>
				
					<li><a href="./Maxent.html">Maxent</a></li>
				
					<li><a href="./MetaFeatureAccess.html">MetaFeatureAccess</a></li>
				
					<li><a href="./MiniparInterface.html">MiniparInterface</a></li>
				
					<li><a href="./MiniparInterpreter.html">MiniparInterpreter</a></li>
				
					<li><a href="./MiniparSentence.html">MiniparSentence</a></li>
				
					<li><a href="./NearestNodeFeature.html">NearestNodeFeature</a></li>
				
					<li><a href="./NodeIDFeature.html">NodeIDFeature</a></li>
				
					<li><a href="./NodelabelCombinedPathFeature.html">NodelabelCombinedPathFeature</a></li>
				
					<li><a href="./NodelabelPartialPathFeature.html">NodelabelPartialPathFeature</a></li>
				
					<li><a href="./NodelabelPathFeature.html">NodelabelPathFeature</a></li>
				
					<li><a href="./NoncontiguousContextProvider.html">NoncontiguousContextProvider</a></li>
				
					<li><a href="./Object.html">Object</a></li>
				
					<li><a href="./OneParsedFile.html">OneParsedFile</a></li>
				
					<li><a href="./Optimise.html">Optimise</a></li>
				
					<li><a href="./PartialPathFeature.html">PartialPathFeature</a></li>
				
					<li><a href="./Path.html">Path</a></li>
				
					<li><a href="./PathFeature.html">PathFeature</a></li>
				
					<li><a href="./PathLengthFeature.html">PathLengthFeature</a></li>
				
					<li><a href="./PhraseTypeFeature.html">PhraseTypeFeature</a></li>
				
					<li><a href="./PlotAndREval.html">PlotAndREval</a></li>
				
					<li><a href="./PrepFeature.html">PrepFeature</a></li>
				
					<li><a href="./ProcessDirectory.html">ProcessDirectory</a></li>
				
					<li><a href="./PruneFeature.html">PruneFeature</a></li>
				
					<li><a href="./Pruning.html">Pruning</a></li>
				
					<li><a href="./ReadDirectory.html">ReadDirectory</a></li>
				
					<li><a href="./RegXML.html">RegXML</a></li>
				
					<li><a href="./RelativePositionFeature.html">RelativePositionFeature</a></li>
				
					<li><a href="./RightSiblingFeature.html">RightSiblingFeature</a></li>
				
					<li><a href="./RosyConfigData.html">RosyConfigData</a></li>
				
					<li><a href="./RosyConfusability.html">RosyConfusability</a></li>
				
					<li><a href="./RosyEval.html">RosyEval</a></li>
				
					<li><a href="./RosyEvalTask.html">RosyEvalTask</a></li>
				
					<li><a href="./RosyFeatureExtractor.html">RosyFeatureExtractor</a></li>
				
					<li><a href="./RosyFeatureInfo.html">RosyFeatureInfo</a></li>
				
					<li><a href="./RosyFeaturize.html">RosyFeaturize</a></li>
				
					<li><a href="./RosyInspect.html">RosyInspect</a></li>
				
					<li><a href="./RosyIterator.html">RosyIterator</a></li>
				
					<li><a href="./RosyPhase2FeatureExtractor.html">RosyPhase2FeatureExtractor</a></li>
				
					<li><a href="./RosyServices.html">RosyServices</a></li>
				
					<li><a href="./RosySingleFeatureExtractor.html">RosySingleFeatureExtractor</a></li>
				
					<li><a href="./RosySplit.html">RosySplit</a></li>
				
					<li><a href="./RosyTask.html">RosyTask</a></li>
				
					<li><a href="./RosyTest.html">RosyTest</a></li>
				
					<li><a href="./RosyTrain.html">RosyTrain</a></li>
				
					<li><a href="./RosyTrainingTestTable.html">RosyTrainingTestTable</a></li>
				
					<li><a href="./SQLQuery.html">SQLQuery</a></li>
				
					<li><a href="./SalsaLemmaFromFilename.html">SalsaLemmaFromFilename</a></li>
				
					<li><a href="./SalsaTigerSentence.html">SalsaTigerSentence</a></li>
				
					<li><a href="./SalsaTigerSentenceGraph.html">SalsaTigerSentenceGraph</a></li>
				
					<li><a href="./SalsaTigerSentenceSem.html">SalsaTigerSentenceSem</a></li>
				
					<li><a href="./SalsaTigerXMLHelper.html">SalsaTigerXMLHelper</a></li>
				
					<li><a href="./SalsaTigerXmlNode.html">SalsaTigerXmlNode</a></li>
				
					<li><a href="./SemNode.html">SemNode</a></li>
				
					<li><a href="./SentidFeature.html">SentidFeature</a></li>
				
					<li><a href="./SingleSentContextProvider.html">SingleSentContextProvider</a></li>
				
					<li><a href="./SleepyInterface.html">SleepyInterface</a></li>
				
					<li><a href="./SleepyInterpreter.html">SleepyInterpreter</a></li>
				
					<li><a href="./SlideVar.html">SlideVar</a></li>
				
					<li><a href="./String.html">String</a></li>
				
					<li><a href="./StringTerminalsInRightOrder.html">StringTerminalsInRightOrder</a></li>
				
					<li><a href="./Subsumed.html">Subsumed</a></li>
				
					<li><a href="./SynInterface.html">SynInterface</a></li>
				
					<li><a href="./SynInterfaceSTXML.html">SynInterfaceSTXML</a></li>
				
					<li><a href="./SynInterfaceTab.html">SynInterfaceTab</a></li>
				
					<li><a href="./SynInterfaces.html">SynInterfaces</a></li>
				
					<li><a href="./SynInterpreter.html">SynInterpreter</a></li>
				
					<li><a href="./SynNode.html">SynNode</a></li>
				
					<li><a href="./TSSynNode.html">TSSynNode</a></li>
				
					<li><a href="./TabFormatFile.html">TabFormatFile</a></li>
				
					<li><a href="./TabFormatNamedArgs.html">TabFormatNamedArgs</a></li>
				
					<li><a href="./TabFormatSentence.html">TabFormatSentence</a></li>
				
					<li><a href="./TargetFineGrainedPOSFeature.html">TargetFineGrainedPOSFeature</a></li>
				
					<li><a href="./TargetLemmaFeature.html">TargetLemmaFeature</a></li>
				
					<li><a href="./TargetPOSFeature.html">TargetPOSFeature</a></li>
				
					<li><a href="./TargetVoiceFeature.html">TargetVoiceFeature</a></li>
				
					<li><a href="./Targets.html">Targets</a></li>
				
					<li><a href="./TargetsMostFrequentSc.html">TargetsMostFrequentSc</a></li>
				
					<li><a href="./TerminalFeature.html">TerminalFeature</a></li>
				
					<li><a href="./Tiger.html">Tiger</a></li>
				
					<li><a href="./TigerMaxProjection.html">TigerMaxProjection</a></li>
				
					<li><a href="./TigerPruneFeature.html">TigerPruneFeature</a></li>
				
					<li><a href="./Timbl.html">Timbl</a></li>
				
					<li><a href="./TntInterface.html">TntInterface</a></li>
				
					<li><a href="./ToggleVar.html">ToggleVar</a></li>
				
					<li><a href="./TreeNode.html">TreeNode</a></li>
				
					<li><a href="./TreetaggerInterface.html">TreetaggerInterface</a></li>
				
					<li><a href="./TreetaggerInterpreter.html">TreetaggerInterpreter</a></li>
				
					<li><a href="./TreetaggerModule.html">TreetaggerModule</a></li>
				
					<li><a href="./TreetaggerPOSInterface.html">TreetaggerPOSInterface</a></li>
				
					<li><a href="./UspNode.html">UspNode</a></li>
				
					<li><a href="./UtfIso.html">UtfIso</a></li>
				
					<li><a href="./ValueRestriction.html">ValueRestriction</a></li>
				
					<li><a href="./VarVarRestriction.html">VarVarRestriction</a></li>
				
					<li><a href="./WhereWasI.html">WhereWasI</a></li>
				
					<li><a href="./WordDistanceFeature.html">WordDistanceFeature</a></li>
				
					<li><a href="./WordLemmaPosNe.html">WordLemmaPosNe</a></li>
				
					<li><a href="./WriteFeaturesBinary.html">WriteFeaturesBinary</a></li>
				
					<li><a href="./WriteFeaturesNary.html">WriteFeaturesNary</a></li>
				
					<li><a href="./WriteFeaturesNaryOrBinary.html">WriteFeaturesNaryOrBinary</a></li>
				
					<li><a href="./XMLNode.html">XMLNode</a></li>
				
				</ul>
				<div id="no-class-search-results" style="display: none;">No matching classes.</div>
			</div>

			
		</div>
	</div>

	<div id="documentation">
		<h1 class="class">DBView</h1>

		<div id="description">
			
		</div>

		<!-- Constants -->
		

		<!-- Attributes -->
		

		<!-- Methods -->
		
		<div id="public-class-method-details" class="method-section section">
			<h3 class="section-header">Public Class Methods</h3>

		
			<div id="new-method" class="method-detail ">
				<a name="method-c-new"></a>

				<div class="method-heading">
				
					<span class="method-name">new</span><span
						class="method-args">(table_col_pairs, value_restrictions, db_obj, parameters = {})</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<pre>
              
</pre>
<p>
new
</p>
<p>
prepare a view. given a list of DB tables to access, each with its
</p>
<pre>
  set of features to be returned in the view,
</pre>
<p>
a set of value restrictions,  the name of the gold feature,  and a list of
objects that manipulate the gold feature into alternate  gold features.
</p>
<p>
value_restrictions restricts the view to those rows for which the value
restrictions hold, e.g. only those rows where frame = Bla, or only those
rows where partofspeech = Blupp
</p>
<p>
The view remembers the indices of the <em>first</em> table in the list of
tables it is given.
</p>
<p>
A standard dynamic ID can be given: DynGold objects all have an id()
method, which returns a string, by which the use of the object can be
requested  of the view. If no dynamic ID is given below in methods <a
href="DBView.html#method-i-each_array">each_array</a>,  <a
href="DBView.html#method-i-each_hash">each_hash</a>, <a
href="DBView.html#method-i-each_sentence">each_sentence</a>, the system
falls back to the standard dynamic ID. if none is given here, the standard
DynGold object is the one that doesn&#8217;t change the gold column. If one
is given here, it will be used by default when no ID is given in <a
href="DBView.html#method-i-each_hash">each_hash</a>, <a
href="DBView.html#method-i-each_array">each_array</a>, <a
href="DBView.html#method-i-each_sentence">each_sentence</a>
</p>
<p>
The last parameter is a hash with the following optional entries:
</p>
<pre>
 &quot;gold&quot;:
    string: name of the gold feature
    If you want the gold feature to be mapped using a DynGold object,
    you need to specify this parameter -- and you need to include
    the gold feature in some feature_list.
    Warning: if a feature of this name appears in several of the 
    feature lists, only the first one is mapped
 &quot;dynamic_feature_list&quot;:
    array:DynGold objects, list of objects that map the gold feature
    to a different feature value (e.g. to &quot;FE&quot;, &quot;NONE&quot;)
    DynGold objects have one method make: string -&gt; string
    that maps one gold feature,
    and one method id: -&gt; string that gives an ID unique to this DynGold class
    and by which this DynGold class can be chosen.
</pre>
<p>
&#8220;standard_dyngold_id&#8220;: 
</p>
<pre>
    string: standard DynGold object ID (see above)
</pre>
<p>
&#8220;sentence_id_feature&#8220;:
</p>
<pre>
     string: feature name for the sentence ID column, needed for each_sentence()
</pre>
<p>
further parameters that are passed on to SQLQuery.select: see there
</p>
					

					
					<div class="method-source-code"
						id="new-source">
<pre>
     <span class="ruby-comment cmt"># File Pkg/View.rb, line 67</span>
 67:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">initialize</span>(<span class="ruby-identifier">table_col_pairs</span>, <span class="ruby-comment cmt"># array:SelectTableAndColumns objects</span>
 68:                  <span class="ruby-identifier">value_restrictions</span>, <span class="ruby-comment cmt"># array:ValueRestriction objects</span>
 69:                  <span class="ruby-identifier">db_obj</span>, <span class="ruby-comment cmt"># MySql object (from mysql.rb) that already has access to the correct database</span>
 70:                  <span class="ruby-identifier">parameters</span> = {}) <span class="ruby-comment cmt"># hash with further parameters: see above</span>
 71: 
 72:     <span class="ruby-ivar">@db_obj</span> = <span class="ruby-identifier">db_obj</span>
 73:     <span class="ruby-ivar">@table_col_pairs</span> = <span class="ruby-identifier">table_col_pairs</span>
 74:     <span class="ruby-ivar">@parameters</span> = <span class="ruby-identifier">parameters</span>
 75:     
 76:     <span class="ruby-comment cmt"># view empty?</span>
 77:     <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@table_col_pairs</span>.<span class="ruby-identifier">empty?</span> <span class="ruby-keyword kw">or</span>
 78:         <span class="ruby-ivar">@table_col_pairs</span>.<span class="ruby-identifier">big_and</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">tc</span><span class="ruby-operator">|</span> <span class="ruby-identifier">tc</span>.<span class="ruby-identifier">columns</span>.<span class="ruby-identifier">class</span>.<span class="ruby-identifier">to_s</span> <span class="ruby-operator">==</span> <span class="ruby-value str">&quot;Array&quot;</span> <span class="ruby-keyword kw">and</span> <span class="ruby-identifier">tc</span>.<span class="ruby-identifier">columns</span>.<span class="ruby-identifier">empty?</span> }
 79:       <span class="ruby-ivar">@view_empty</span> = <span class="ruby-keyword kw">true</span>
 80:       <span class="ruby-keyword kw">return</span>
 81:     <span class="ruby-keyword kw">else</span>
 82:       <span class="ruby-ivar">@view_empty</span> = <span class="ruby-keyword kw">false</span>
 83:     <span class="ruby-keyword kw">end</span>
 84: 
 85:     <span class="ruby-comment cmt"># okay, we can make the view, it contains at least one table and </span>
 86:     <span class="ruby-comment cmt"># at least one column:</span>
 87:     <span class="ruby-comment cmt"># do one view for all columns requested, and one for the indices of each table</span>
 88:     <span class="ruby-comment cmt">#</span>
 89:     <span class="ruby-comment cmt"># @main_table is a DBResult object</span>
 90:     <span class="ruby-ivar">@main_table</span> = <span class="ruby-identifier">execute_command</span>(<span class="ruby-constant">SQLQuery</span>.<span class="ruby-identifier">select</span>(<span class="ruby-ivar">@table_col_pairs</span>,
 91:                                                   <span class="ruby-identifier">value_restrictions</span>, <span class="ruby-identifier">parameters</span>))
 92: 
 93:     <span class="ruby-comment cmt"># index_tables: Hash: table name =&gt;  DBResult object</span>
 94:     <span class="ruby-ivar">@index_tables</span> = <span class="ruby-constant">Hash</span>.<span class="ruby-identifier">new</span>
 95:     <span class="ruby-identifier">table_col_pairs</span>.<span class="ruby-identifier">each_with_index</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">tc</span>, <span class="ruby-identifier">index</span><span class="ruby-operator">|</span>
 96:       <span class="ruby-comment cmt"># read index column of this table, add all the other tables</span>
 97:       <span class="ruby-comment cmt"># with empty column lists</span>
 98:       <span class="ruby-identifier">index_table_col_pairs</span> = <span class="ruby-ivar">@table_col_pairs</span>.<span class="ruby-identifier">map_with_index</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">other_tc</span>, <span class="ruby-identifier">other_index</span><span class="ruby-operator">|</span>
 99:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">other_index</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">index</span>
100:         <span class="ruby-comment cmt"># the current table</span>
101:           <span class="ruby-constant">SelectTableAndColumns</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">tc</span>.<span class="ruby-identifier">table_obj</span>, 
102:                                     [<span class="ruby-identifier">tc</span>.<span class="ruby-identifier">table_obj</span>.<span class="ruby-identifier">index_name</span>])
103:         <span class="ruby-keyword kw">else</span>
104:           <span class="ruby-comment cmt"># other table: keep just the table, not the columns</span>
105:           <span class="ruby-constant">SelectTableAndColumns</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">other_tc</span>.<span class="ruby-identifier">table_obj</span>, <span class="ruby-keyword kw">nil</span>)
106:         <span class="ruby-keyword kw">end</span>
107:       }
108:       <span class="ruby-ivar">@index_tables</span>[<span class="ruby-identifier">tc</span>.<span class="ruby-identifier">table_obj</span>.<span class="ruby-identifier">table_name</span>] = <span class="ruby-identifier">execute_command</span>(<span class="ruby-constant">SQLQuery</span>.<span class="ruby-identifier">select</span>(<span class="ruby-identifier">index_table_col_pairs</span>,
109:                                                                                <span class="ruby-identifier">value_restrictions</span>, <span class="ruby-identifier">parameters</span>))
110:     }
111: 
112:     <span class="ruby-comment cmt"># map gold to something else?</span>
113:     <span class="ruby-comment cmt"># yes, if parameters[gold] has been set</span>
114:     <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@parameters</span>[<span class="ruby-value str">&quot;gold&quot;</span>]
115:       <span class="ruby-ivar">@map_gold</span> = <span class="ruby-keyword kw">true</span>
116:       <span class="ruby-comment cmt"># remember which column in the DB table is the gold column</span>
117:       <span class="ruby-ivar">@gold_index</span> = <span class="ruby-identifier">column_names</span>().<span class="ruby-identifier">index</span>(<span class="ruby-ivar">@parameters</span>[<span class="ruby-value str">&quot;gold&quot;</span>])
118:     <span class="ruby-keyword kw">else</span>
119:       <span class="ruby-ivar">@map_gold</span> = <span class="ruby-keyword kw">false</span>
120:     <span class="ruby-keyword kw">end</span>  
121:   <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
		</div>
	
		<div id="public-instance-method-details" class="method-section section">
			<h3 class="section-header">Public Instance Methods</h3>

		
			<div id="close-method" class="method-detail ">
				<a name="method-i-close"></a>

				<div class="method-heading">
				
					<span class="method-name">close</span><span
						class="method-args">()</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<pre>
              
</pre>
<p>
close
</p>
<p>
to be called when the view is no longer needed: frees the <a
href="DBResult.html">DBResult</a> objects underlying this view
</p>
					

					
					<div class="method-source-code"
						id="close-source">
<pre>
     <span class="ruby-comment cmt"># File Pkg/View.rb, line 128</span>
128:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">close</span>()
129:     <span class="ruby-keyword kw">unless</span> <span class="ruby-ivar">@view_empty</span>
130:       <span class="ruby-ivar">@main_table</span>.<span class="ruby-identifier">free</span>()
131:       <span class="ruby-ivar">@index_tables</span>.<span class="ruby-identifier">each_value</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">t</span><span class="ruby-operator">|</span> <span class="ruby-identifier">t</span>.<span class="ruby-identifier">free</span>() }
132:     <span class="ruby-keyword kw">end</span>
133:   <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="each-array-method" class="method-detail ">
				<a name="method-i-each_array"></a>

				<div class="method-heading">
				
					<span class="method-name">each_array</span><span
						class="method-args">(dyn_gold_id=nil)</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<pre>
              
</pre>
<p>
<a href="DBView.html#method-i-each_array">each_array</a>
</p>
<p>
iterates over arrays representing rows
</p>
<pre>
         the last item of each row is the gold column
         selected by the optional argument dyn_gold_id.
         which is the string ID of a  DynGold object 
         from the dynamic_feature_list.
         If arg is not present, main gold is used
</pre>
<p>
yields: arrays of column values, 
</p>
<pre>
        values are in the order of my_feature_list given
        to the new() method, (dynamic) gold is last</pre>
					

					
					<div class="method-source-code"
						id="each-array-source">
<pre>
     <span class="ruby-comment cmt"># File Pkg/View.rb, line 219</span>
219:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">each_array</span>(<span class="ruby-identifier">dyn_gold_id</span>=<span class="ruby-keyword kw">nil</span>) <span class="ruby-comment cmt">#string: ID of a DynGold object from the dynamic_feature_list, or nil</span>
220: 
221:     <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@view_empty</span>
222:       <span class="ruby-keyword kw">return</span>
223:     <span class="ruby-keyword kw">end</span>
224:     <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@map_gold</span>
225:       <span class="ruby-identifier">dyn_gold_obj</span> = <span class="ruby-identifier">fetch_dyn_gold_obj</span>(<span class="ruby-identifier">dyn_gold_id</span>)
226:     <span class="ruby-keyword kw">end</span>
227:     <span class="ruby-ivar">@main_table</span>.<span class="ruby-identifier">reset</span>()
228: 
229:     <span class="ruby-ivar">@main_table</span>.<span class="ruby-identifier">each</span> {<span class="ruby-operator">|</span><span class="ruby-identifier">row</span><span class="ruby-operator">|</span>
230:       <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@gold_index</span>
231:         <span class="ruby-identifier">gold</span> = <span class="ruby-identifier">row</span>.<span class="ruby-identifier">delete_at</span>(<span class="ruby-ivar">@gold_index</span>)
232:         <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@map_gold</span>
233:           <span class="ruby-identifier">row</span>.<span class="ruby-identifier">push</span> <span class="ruby-identifier">dyn_gold_obj</span>.<span class="ruby-identifier">make</span>(<span class="ruby-identifier">gold</span>)
234:         <span class="ruby-keyword kw">else</span>
235:           <span class="ruby-identifier">row</span>.<span class="ruby-identifier">push</span> <span class="ruby-identifier">gold</span>
236:         <span class="ruby-keyword kw">end</span>
237:       <span class="ruby-keyword kw">end</span>
238: 
239:       <span class="ruby-keyword kw">yield</span> <span class="ruby-identifier">row</span>
240:     }
241:   <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="each-hash-method" class="method-detail ">
				<a name="method-i-each_hash"></a>

				<div class="method-heading">
				
					<span class="method-name">each_hash</span><span
						class="method-args">(dyn_gold_id=nil)</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<pre>
              
</pre>
<p>
<a href="DBView.html#method-i-each_hash">each_hash</a>
</p>
<p>
iterates over hashes representing rows
</p>
<pre>
         in each row, there is a gold key/value pair
         specified by the optional argument dyn_gold_id.
         which is the string ID of a  DynGold object 
         from the dynamic_feature_list.
         If arg is not present, main gold is used
         
         The key for the gold is the dyn_gold_id
         If that is nil, the key is 'gold'
</pre>
<p>
yields: hashes column_name -> column_value
</p>
					

					
					<div class="method-source-code"
						id="each-hash-source">
<pre>
     <span class="ruby-comment cmt"># File Pkg/View.rb, line 188</span>
188:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">each_hash</span>(<span class="ruby-identifier">dyn_gold_id</span>=<span class="ruby-keyword kw">nil</span>) <span class="ruby-comment cmt">#string: ID of a DynGold object from the dynamic_feature_list, or nil</span>
189:     <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@view_empty</span>
190:       <span class="ruby-keyword kw">return</span>
191:     <span class="ruby-keyword kw">end</span>
192:     <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@map_gold</span>
193:       <span class="ruby-identifier">dyn_gold_obj</span> = <span class="ruby-identifier">fetch_dyn_gold_obj</span>(<span class="ruby-identifier">dyn_gold_id</span>)
194:     <span class="ruby-keyword kw">end</span>
195:     <span class="ruby-ivar">@main_table</span>.<span class="ruby-identifier">reset</span>()
196: 
197:     <span class="ruby-ivar">@main_table</span>.<span class="ruby-identifier">each_hash</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">row_hash</span><span class="ruby-operator">|</span>
198:       <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@map_gold</span>
199:         <span class="ruby-identifier">row_hash</span>[<span class="ruby-ivar">@parameters</span>[<span class="ruby-value str">&quot;gold&quot;</span>]] = <span class="ruby-identifier">dyn_gold_obj</span>.<span class="ruby-identifier">make</span>(<span class="ruby-identifier">row_hash</span>[<span class="ruby-ivar">@parameters</span>[<span class="ruby-value str">&quot;gold&quot;</span>]])
200:       <span class="ruby-keyword kw">end</span>
201: 
202:       <span class="ruby-keyword kw">yield</span> <span class="ruby-identifier">row_hash</span>
203:     }
204:   <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="each-instance-s-method" class="method-detail ">
				<a name="method-i-each_instance_s"></a>

				<div class="method-heading">
				
					<span class="method-name">each_instance_s</span><span
						class="method-args">(dyn_gold_id=nil)</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<pre>
              
</pre>
<p>
<a href="DBView.html#method-i-each_instance_s">each_instance_s</a>
</p>
<p>
yields each instance as a string: a comma-separated list of features The
features are the ones given in my_feature_list (parameter to the new()
method) above, in that order, plus (dynamic) gold, which is last.
</p>
<p>
guarantees that comma is used only to separate features &#8212; but no
other changes in the feature values
</p>
					

					
					<div class="method-source-code"
						id="each-instance-s-source">
<pre>
     <span class="ruby-comment cmt"># File Pkg/View.rb, line 167</span>
167:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">each_instance_s</span>(<span class="ruby-identifier">dyn_gold_id</span>=<span class="ruby-keyword kw">nil</span>) <span class="ruby-comment cmt">#string: ID of a DynGold object from the dynamic_feature_list.</span>
168:                                      <span class="ruby-comment cmt"># if nil, main gold is used</span>
169:     <span class="ruby-identifier">each_array</span>(<span class="ruby-identifier">dyn_gold_id</span>) {<span class="ruby-operator">|</span><span class="ruby-identifier">array</span><span class="ruby-operator">|</span>
170:       <span class="ruby-keyword kw">yield</span> <span class="ruby-identifier">array</span>.<span class="ruby-identifier">map</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">entry</span><span class="ruby-operator">|</span> <span class="ruby-identifier">entry</span>.<span class="ruby-identifier">to_s</span>.<span class="ruby-identifier">gsub</span>(<span class="ruby-regexp re">/,/</span>, <span class="ruby-value str">&quot;COMMA&quot;</span>) }.<span class="ruby-identifier">join</span>(<span class="ruby-value str">&quot;,&quot;</span>)
171:     }
172:   <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="each-sentence-method" class="method-detail ">
				<a name="method-i-each_sentence"></a>

				<div class="method-heading">
				
					<span class="method-name">each_sentence</span><span
						class="method-args">(dyn_gold_id = nil)</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<pre>
              
</pre>
<p>
<a href="DBView.html#method-i-each_sentence">each_sentence</a>
</p>
<p>
like <a href="DBView.html#method-i-each_hash">each_hash</a>, but it groups
the row hashes sentence-wise sentence boundaries in the view are detected
by the change in a  special column describing sentence IDs
</p>
<p>
also needs a dyngold object id 
</p>
<p>
returns: an array of hashes column_name -> column_value
</p>
					

					
					<div class="method-source-code"
						id="each-sentence-source">
<pre>
     <span class="ruby-comment cmt"># File Pkg/View.rb, line 306</span>
306:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">each_sentence</span>(<span class="ruby-identifier">dyn_gold_id</span> = <span class="ruby-keyword kw">nil</span>)  <span class="ruby-comment cmt"># string: ID of a DynGold object from the dynamic_feature_list, or nil</span>
307: 
308:     <span class="ruby-comment cmt"># sanity check 1: need to know what the sentence ID is</span>
309:     <span class="ruby-keyword kw">unless</span> <span class="ruby-ivar">@parameters</span>[<span class="ruby-value str">&quot;sentence_id_feature&quot;</span>]
310:       <span class="ruby-identifier">raise</span> <span class="ruby-value str">&quot;I need the name of the sentence ID feature for each_sentence()&quot;</span>
311:     <span class="ruby-keyword kw">end</span>
312:     <span class="ruby-comment cmt"># sanity check 2: the view needs to include the sentence ID</span>
313:     <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">column_names</span>().<span class="ruby-identifier">include?</span> <span class="ruby-ivar">@parameters</span>[<span class="ruby-value str">&quot;sentence_id_feature&quot;</span>]
314:       <span class="ruby-identifier">raise</span> <span class="ruby-value str">&quot;View.each_sentence: Cannot do this without sentence ID in the view&quot;</span>
315:     <span class="ruby-keyword kw">end</span>
316: 
317:     <span class="ruby-identifier">last_sent_id</span> = <span class="ruby-keyword kw">nil</span>
318:     <span class="ruby-identifier">sentence</span> = <span class="ruby-constant">Array</span>.<span class="ruby-identifier">new</span>
319:     <span class="ruby-identifier">each_hash</span>(<span class="ruby-identifier">dyn_gold_id</span>) {<span class="ruby-operator">|</span><span class="ruby-identifier">row_hash</span><span class="ruby-operator">|</span>
320:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">last_sent_id</span> <span class="ruby-operator">!=</span> <span class="ruby-identifier">row_hash</span>[<span class="ruby-ivar">@parameters</span>[<span class="ruby-value str">&quot;sentence_id_feature&quot;</span>]] <span class="ruby-keyword kw">and</span> 
321:           (<span class="ruby-operator">!</span>(<span class="ruby-identifier">last_sent_id</span>.<span class="ruby-identifier">nil?</span>))
322:         <span class="ruby-keyword kw">yield</span> <span class="ruby-identifier">sentence</span>
323:         <span class="ruby-identifier">sentence</span> = <span class="ruby-constant">Array</span>.<span class="ruby-identifier">new</span>
324:       <span class="ruby-keyword kw">end</span>
325:       <span class="ruby-identifier">last_sent_id</span> = <span class="ruby-identifier">row_hash</span>[<span class="ruby-ivar">@parameters</span>[<span class="ruby-value str">&quot;sentence_id_feature&quot;</span>]]
326:       <span class="ruby-identifier">sentence</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">row_hash</span>
327:     }
328:     <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">sentence</span>.<span class="ruby-identifier">empty?</span>
329:       <span class="ruby-keyword kw">yield</span> <span class="ruby-identifier">sentence</span>
330:     <span class="ruby-keyword kw">end</span>
331:   <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="length-method" class="method-detail ">
				<a name="method-i-length"></a>

				<div class="method-heading">
				
					<span class="method-name">length</span><span
						class="method-args">()</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<pre>
                    
</pre>
<p>
length
</p>
<p>
returns the length of the view: the number of its rows
</p>
					

					
					<div class="method-source-code"
						id="length-source">
<pre>
     <span class="ruby-comment cmt"># File Pkg/View.rb, line 337</span>
337:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">length</span>()
338:     <span class="ruby-keyword kw">return</span> <span class="ruby-ivar">@index_tables</span>[<span class="ruby-ivar">@table_col_pairs</span>.<span class="ruby-identifier">first</span>.<span class="ruby-identifier">table_obj</span>.<span class="ruby-identifier">table_name</span>].<span class="ruby-identifier">num_rows</span> 
339:   <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="update-column-method" class="method-detail ">
				<a name="method-i-update_column"></a>

				<div class="method-heading">
				
					<span class="method-name">update_column</span><span
						class="method-args">(name, values)</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<pre>
              
</pre>
<p>
<a href="DBView.html#method-i-update_column">update_column</a>
</p>
<p>
update a column for all rows of this view
</p>
<p>
Given a column name to be updated, and a list of value tuples, update each
row of the view, or rather the appropriate column of each row of the view,
with values for that row.
</p>
<p>
the list has the same length as the view, as there must be a value tuple
for each row of the view.
</p>
<p>
returns: nothing
</p>
					

					
					<div class="method-source-code"
						id="update-column-source">
<pre>
     <span class="ruby-comment cmt"># File Pkg/View.rb, line 256</span>
256:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">update_column</span>(<span class="ruby-identifier">name</span>, <span class="ruby-comment cmt"># string: column name</span>
257:                     <span class="ruby-identifier">values</span>) <span class="ruby-comment cmt"># array of Objects</span>
258: 
259:     <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@view_empty</span>
260:       <span class="ruby-identifier">raise</span> <span class="ruby-value str">&quot;Cannot update empty view&quot;</span>
261:     <span class="ruby-keyword kw">end</span>
262: 
263:     <span class="ruby-comment cmt"># find the first table in @table_col_pairs that has</span>
264:     <span class="ruby-comment cmt"># a column with this name</span>
265:     <span class="ruby-comment cmt"># and update that column</span>
266:     <span class="ruby-ivar">@table_col_pairs</span>.<span class="ruby-identifier">each</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">tc</span><span class="ruby-operator">|</span>
267:       <span class="ruby-keyword kw">if</span> (<span class="ruby-identifier">tc</span>.<span class="ruby-identifier">columns</span>.<span class="ruby-identifier">class</span>.<span class="ruby-identifier">to_s</span> <span class="ruby-operator">==</span> <span class="ruby-value str">&quot;Array&quot;</span> <span class="ruby-keyword kw">and</span> <span class="ruby-identifier">tc</span>.<span class="ruby-identifier">columns</span>.<span class="ruby-identifier">include?</span> <span class="ruby-identifier">name</span>) <span class="ruby-keyword kw">or</span>
268:           (<span class="ruby-identifier">tc</span>.<span class="ruby-identifier">columns</span> <span class="ruby-operator">==</span> <span class="ruby-value str">&quot;*&quot;</span> <span class="ruby-keyword kw">and</span> <span class="ruby-identifier">tc</span>.<span class="ruby-identifier">table_obj</span>.<span class="ruby-identifier">list_column_names</span>().<span class="ruby-identifier">include?</span> <span class="ruby-identifier">name</span>)
269: 
270:         <span class="ruby-identifier">table_name</span> = <span class="ruby-identifier">tc</span>.<span class="ruby-identifier">table_obj</span>.<span class="ruby-identifier">table_name</span>
271: 
272:         <span class="ruby-comment cmt"># sanity check: number of update entries must match</span>
273:         <span class="ruby-comment cmt"># number of entries in this view</span>
274:         <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">values</span>.<span class="ruby-identifier">length</span>() <span class="ruby-operator">==</span> <span class="ruby-ivar">@index_tables</span>[<span class="ruby-identifier">table_name</span>].<span class="ruby-identifier">num_rows</span>()
275:           <span class="ruby-identifier">$stderr</span>.<span class="ruby-identifier">puts</span> <span class="ruby-node">&quot;Error: length of value array (#{values.length}) is not equal to length of view (#{@index_tables[table_name].num_rows})!&quot;</span>
276:           <span class="ruby-identifier">exit</span> <span class="ruby-value">1</span>
277:         <span class="ruby-keyword kw">end</span>
278: 
279:         <span class="ruby-ivar">@index_tables</span>[<span class="ruby-identifier">tc</span>.<span class="ruby-identifier">table_obj</span>.<span class="ruby-identifier">table_name</span>].<span class="ruby-identifier">reset</span>()
280: 
281:         <span class="ruby-identifier">values</span>.<span class="ruby-identifier">each</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">value</span><span class="ruby-operator">|</span>
282:           <span class="ruby-identifier">index</span> = <span class="ruby-ivar">@index_tables</span>[<span class="ruby-identifier">table_name</span>].<span class="ruby-identifier">fetch_row</span>().<span class="ruby-identifier">first</span>
283:           <span class="ruby-identifier">tc</span>.<span class="ruby-identifier">table_obj</span>.<span class="ruby-identifier">update_row</span>(<span class="ruby-identifier">index</span>, [[<span class="ruby-identifier">name</span>, <span class="ruby-identifier">value</span>]])
284:         }
285: 
286:         <span class="ruby-keyword kw">return</span>
287:       <span class="ruby-keyword kw">end</span>
288:     }
289: 
290:     <span class="ruby-comment cmt"># no match found</span>
291:     <span class="ruby-identifier">$stderr</span>.<span class="ruby-identifier">puts</span> <span class="ruby-node">&quot;View.rb Error: cannot update a column that is not in this view: #{name}&quot;</span>
292:     <span class="ruby-identifier">exit</span> <span class="ruby-value">1</span>
293:   <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="write-to-file-method" class="method-detail ">
				<a name="method-i-write_to_file"></a>

				<div class="method-heading">
				
					<span class="method-name">write_to_file</span><span
						class="method-args">(file, dyn_gold_id=nil)</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<pre>
              
</pre>
<p>
<a href="DBView.html#method-i-write_to_file">write_to_file</a>
</p>
<p>
writes instances to a file each instance given as a comma-separated list of
features The features are the ones given in my_feature_list (parameter to
the new() method) above, in that order, plus (dynamic) gold, which is last.
</p>
<p>
guarantees that comma is used only to separate features &#8212; but no
other changes in the feature values
</p>
					

					
					<div class="method-source-code"
						id="write-to-file-source">
<pre>
     <span class="ruby-comment cmt"># File Pkg/View.rb, line 146</span>
146:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">write_to_file</span>(<span class="ruby-identifier">file</span>, <span class="ruby-comment cmt"># stream to write to</span>
147:                     <span class="ruby-identifier">dyn_gold_id</span>=<span class="ruby-keyword kw">nil</span>) <span class="ruby-comment cmt">#string: ID of a DynGold object from the dynamic_feature_list.</span>
148:                                      <span class="ruby-comment cmt"># if nil, main gold is used</span>
149: 
150:     <span class="ruby-identifier">each_instance_s</span>(<span class="ruby-identifier">dyn_gold_id</span>) { <span class="ruby-operator">|</span><span class="ruby-identifier">instance_string</span><span class="ruby-operator">|</span>
151:       <span class="ruby-identifier">file</span>.<span class="ruby-identifier">puts</span> <span class="ruby-identifier">instance_string</span>
152:     }
153:   <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
		</div>
	
		<div id="private-instance-method-details" class="method-section section">
			<h3 class="section-header">Private Instance Methods</h3>

		
			<div id="column-names-method" class="method-detail ">
				<a name="method-i-column_names"></a>

				<div class="method-heading">
				
					<span class="method-name">column_names</span><span
						class="method-args">()</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<pre>
              
</pre>
<p>
<a href="DBView.html#method-i-column_names">column_names</a>
</p>
<p>
returns: array:string
</p>
<pre>
  the list of column names for this view
  in the right order</pre>
					

					
					<div class="method-source-code"
						id="column-names-source">
<pre>
     <span class="ruby-comment cmt"># File Pkg/View.rb, line 350</span>
350:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">column_names</span>()
351:     <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@view_empty</span>
352:       <span class="ruby-keyword kw">return</span> []
353:     <span class="ruby-keyword kw">else</span>
354:       <span class="ruby-keyword kw">return</span> <span class="ruby-ivar">@main_table</span>.<span class="ruby-identifier">list_column_names</span>()
355:     <span class="ruby-keyword kw">end</span>
356:   <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="execute-command-method" class="method-detail ">
				<a name="method-i-execute_command"></a>

				<div class="method-heading">
				
					<span class="method-name">execute_command</span><span
						class="method-args">(command)</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					
					

					
					<div class="method-source-code"
						id="execute-command-source">
<pre>
     <span class="ruby-comment cmt"># File Pkg/View.rb, line 407</span>
407:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">execute_command</span>(<span class="ruby-identifier">command</span>)
408:     <span class="ruby-keyword kw">begin</span>
409:       <span class="ruby-keyword kw">return</span> <span class="ruby-ivar">@db_obj</span>.<span class="ruby-identifier">query</span>(<span class="ruby-identifier">command</span>)
410:     <span class="ruby-keyword kw">rescue</span> <span class="ruby-constant">MysqlError</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">e</span>
411:       <span class="ruby-identifier">$stderr</span>.<span class="ruby-identifier">puts</span> <span class="ruby-value str">&quot;Error executing SQL query. Command was:\n&quot;</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">command</span>
412:       <span class="ruby-identifier">$stderr</span>.<span class="ruby-identifier">puts</span> <span class="ruby-node">&quot;Error code: #{e.errno}&quot;</span>
413:       <span class="ruby-identifier">$stderr</span>.<span class="ruby-identifier">puts</span> <span class="ruby-node">&quot;Error message: #{e.error}&quot;</span>
414:       <span class="ruby-identifier">raise</span> <span class="ruby-identifier">e</span>      
415:     <span class="ruby-keyword kw">end</span>
416:   <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="fetch-dyn-gold-obj-method" class="method-detail ">
				<a name="method-i-fetch_dyn_gold_obj"></a>

				<div class="method-heading">
				
					<span class="method-name">fetch_dyn_gold_obj</span><span
						class="method-args">(dyn_gold_id)</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<pre>
    
</pre>
<p>
<a href="DBView.html#method-i-fetch_dyn_gold_obj">fetch_dyn_gold_obj</a>
</p>
<p>
given an ID of a gold object, look for the DynGold object with this ID in
the dynamic_feature_list and return it If the ID is nil, use the standard
dynamic gold ID that has been set in the new() method. If that is nil too,
take the non-modified gold as a  default: return a dummy object with a
make() method that just returns its parameter.
</p>
<p>
returns: object offering a make() method
</p>
					

					
					<div class="method-source-code"
						id="fetch-dyn-gold-obj-source">
<pre>
     <span class="ruby-comment cmt"># File Pkg/View.rb, line 371</span>
371:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">fetch_dyn_gold_obj</span>(<span class="ruby-identifier">dyn_gold_id</span>) <span class="ruby-comment cmt"># string or nil</span>
372:     <span class="ruby-comment cmt"># find a DynGold object that will transform the gold column</span>
373:     <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">dyn_gold_id</span>.<span class="ruby-identifier">nil?</span>
374:       <span class="ruby-identifier">dyn_gold_id</span> = <span class="ruby-ivar">@parameters</span>[<span class="ruby-value str">&quot;standard_dyngold_id&quot;</span>]
375:     <span class="ruby-keyword kw">end</span>
376: 
377:     <span class="ruby-identifier">dyn_gold_obj</span> = <span class="ruby-value str">&quot;we need an object that can do 'make'&quot;</span>
378:     <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">dyn_gold_id</span>
379:       <span class="ruby-keyword kw">unless</span> <span class="ruby-ivar">@parameters</span>[<span class="ruby-value str">&quot;dynamic_feature_list&quot;</span>]
380:         <span class="ruby-identifier">raise</span> <span class="ruby-value str">&quot;No dynamic features given&quot;</span>
381:       <span class="ruby-keyword kw">end</span>
382: 
383:       <span class="ruby-identifier">dyn_gold_obj</span> = <span class="ruby-ivar">@parameters</span>[<span class="ruby-value str">&quot;dynamic_feature_list&quot;</span>].<span class="ruby-identifier">detect</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">obj</span><span class="ruby-operator">|</span> 
384:         <span class="ruby-identifier">obj</span>.<span class="ruby-identifier">id</span>() <span class="ruby-operator">==</span> <span class="ruby-identifier">dyn_gold_id</span>
385:       }
386:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">dyn_gold_obj</span>.<span class="ruby-identifier">nil?</span>
387:         <span class="ruby-identifier">$stderr</span>.<span class="ruby-identifier">puts</span> <span class="ruby-value str">&quot;View.rb: Unknown DynGold ID &quot;</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">dyn_gold_id</span>
388:         <span class="ruby-identifier">$stderr</span>.<span class="ruby-identifier">puts</span> <span class="ruby-value str">&quot;Using unchanged gold&quot;</span>
389:         <span class="ruby-identifier">dyn_gold_id</span> = <span class="ruby-keyword kw">nil</span>
390:       <span class="ruby-keyword kw">end</span>
391:     <span class="ruby-keyword kw">end</span>
392: 
393:     <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">dyn_gold_id</span>
394:       <span class="ruby-comment cmt"># no dynamic gold ID: use unchanged gold by default</span>
395:       <span class="ruby-keyword kw">class</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">dyn_gold_obj</span>
396:         <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">make</span>(<span class="ruby-identifier">x</span>)
397:           <span class="ruby-identifier">x</span>
398:         <span class="ruby-keyword kw">end</span>
399:         <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">id</span>()
400:           <span class="ruby-keyword kw">return</span> <span class="ruby-value str">&quot;gold&quot;</span>
401:         <span class="ruby-keyword kw">end</span>
402:       <span class="ruby-keyword kw">end</span>
403:     <span class="ruby-keyword kw">end</span>
404:     <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">dyn_gold_obj</span>
405:   <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
		</div>
	

	</div>


	<div id="rdoc-debugging-section-dump" class="debugging-section">
	
		<p>Disabled; run with --debug to generate this.</p>
	
	</div>

	<div id="validator-badges">
		<p><small><a href="http://validator.w3.org/check/referer">[Validate]</a></small></p>
		<p><small>Generated with the <a href="http://deveiate.org/projects/Darkfish-Rdoc/">Darkfish
			Rdoc Generator</a> 1.1.6</small>.</p>
	</div>

</body>
</html>

